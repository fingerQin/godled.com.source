[TOC]

##Yaf-Server-Admin 系统内外链规范文档

所谓内外链指的是系统当中，我们为了满足各种各样的场景而配置的 `URL`。而此 `URL` 肩负了跳转外部页面与 `APP`（小程序等）内部页面跳转的功能。

所以，我们需要区分内外链来做相应的跳转。那么，唯一的办法是通过 `URL` 来做区分。



### 1 外链

外链这个很好理解。就是我们经常在浏览器地址栏看到的 `URL` 地址。在我们的 `APP` 应用中，经常会跳转到活动页、广告页等。用的就是外链。



### 2 内链

所谓内链，实则是用来区别外链的一种链接。它并不是一种互联网约定的链接形式。当我们在 `APP` 应用（小程序）中为了跳转到内部页面时，会用内链来做判断识别。

所以，客户端（小程序）需要在应用内实现所有的内链跳转。



#### 2.1 内链定义

所有内链皆以 `inside://` 开头。客户端（小程序）在判断内链与外链的时候，只需要判断前面是否以 `inside://` 打头即可。



#### 2.2 内链：应用首页

> `inside://home`

因为应用包含 APP、小程序等多种形式的程序。这里的应用首页当然也包含这些程序的应用的首页。



#### 2.3 内链：公告列表

> `inside://notice_list` 



#### 2.4 内链：公告详情

> `inside://notice_detail?noticeid=xxx` 
>
> 其中 `xxx` 代表公告 ID。

此内链与上面两个相比，它多了一个参数：`noticeid` 。我们可以发现，这个参数与我们外链 ` GET` 方式传值一模一样。这是为了兼容各种语言的解析库而定。比如，在 `PHP` 当中，可以使用内置的 `parse_url()` 与 `parse_str()` 两个方法即可知道当前是内链还是外链，是否携带了参数。每个参数的值是多少。并且，参数的顺序不会影响解析出来的值。

所以，像 `Android` 的 `Java` 语言、`iOS` 的 `Object C` 与 `swift`、前端 `JavaScript` 语言，可以很容易找到或封装出自己的通用解析语言。



#### 2.5 内链：系统消息列表

`inside://message_list`

因为消息列表是针对用户的。所以，客户端（小程序）在跳转实现的时候，一定要先判断用户是否登录。如果用户未登录的话。在 UI 界面不要显示任何数据。最好能有一个提示按钮告之用户登录查看。



#### 2.6 内链：系统消息详情

> `inside://message_detail?msgid=xxx`
>
> 其中 `msgid` 代表消息 ID。

与消息列表一样，如果用户未登录，则调用该接口时直接提示用户登录。



> **当需要更多的内链需求的时候。在此文档定义即可。**



